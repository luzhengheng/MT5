# ==============================================================================
# ğŸ¯ MT5-CRS ç”Ÿäº§äº¤æ˜“é…ç½®ä¸­å¿ƒ (Trading Configuration Center)
# ==============================================================================
# ä»»åŠ¡: Task #121 - Configuration Center Migration & Production Symbol Fix
# åè®®: v4.3 (Zero-Trust Edition)
# æ—¥æœŸ: 2026-01-18
# è¯´æ˜: æ­¤æ–‡ä»¶ä¸ºå”¯ä¸€äº‹å®æ¥æº (Single Source of Truth)ï¼Œæ‰€æœ‰äº¤æ˜“å‚æ•°å¿…é¡»è°ƒç”¨æ­¤é…ç½®
# ==============================================================================

# é€šç”¨é…ç½® (Common Settings)
common:
  env_name: "production_v1"
  log_level: "INFO"
  session_id: "MT5-CRS-TASK121"

# äº¤æ˜“é…ç½® (Trading Configuration)
# æ”¯æŒå¤šå“ç§å¹¶å‘äº¤æ˜“ (Multi-Symbol Concurrent Trading)
symbols:
  - symbol: "BTCUSD.s"
    magic_number: 202601
    lot_size: 0.01
    slippage_tolerance: 10
    risk_profile:
      stop_loss_pips: 5000
      take_profit_pips: 10000

  - symbol: "ETHUSD.s"
    magic_number: 202602
    lot_size: 0.01
    slippage_tolerance: 10
    risk_profile:
      stop_loss_pips: 3000
      take_profit_pips: 6000

  - symbol: "XAUUSD.s"
    magic_number: 202603
    lot_size: 0.01
    slippage_tolerance: 10
    risk_profile:
      stop_loss_pips: 500
      take_profit_pips: 1000

# é»˜è®¤äº¤æ˜“å¯¹ (ä»…ç”¨äºå‘åå…¼å®¹)
trading:
  symbol: "BTCUSD.s"
  magic_number: 202601
  lot_size: 0.01
  slippage_tolerance: 10

# é£é™©ç®¡ç† (Risk Management)
risk:
  # å…¨å±€è´¦æˆ·é£é™© (USD)
  max_drawdown_daily: 50.0

  # æœ€å¤§å›æ’¤ç™¾åˆ†æ¯” (%)
  max_drawdown_percent: 10.0

  # è´¦æˆ·é£é™©æ¯” (%) - é’ˆå¯¹å•ä¸ªå“ç§
  risk_percentage: 0.5

  # æœ€å¤§å•å“ç§é£é™© (USD) - å¤šå“ç§æƒ…å†µä¸‹çš„ç‹¬ç«‹é™åˆ¶
  max_per_symbol_risk: 20.0

  # æœ€å¤§æ»‘ç‚¹ (USD)
  max_slippage_usd: 50

  # æœ€å¤§æ æ†
  max_leverage: 3000

  # å¤šå“ç§å¹¶å‘é£é™©é™é¢ (%)
  max_total_exposure: 2.0
  max_per_symbol: 1.0

# ç½‘å…³é…ç½® (Gateway Configuration)
gateway:
  # ZMQ è¯·æ±‚ç«¯å£ (REQ-REP æ¨¡å¼)
  zmq_req_host: "tcp://172.19.141.255"
  zmq_req_port: 5555

  # ZMQ å‘å¸ƒç«¯å£ (PUB-SUB æ¨¡å¼)
  zmq_pub_host: "tcp://172.19.141.255"
  zmq_pub_port: 5556

  # è¿æ¥è¶…æ—¶ (æ¯«ç§’)
  timeout_ms: 5000

  # é‡è¯•æ¬¡æ•°
  retry_attempts: 3

  # å¿ƒè·³é—´éš” (ç§’)
  heartbeat_interval: 5

  # å¤šå“ç§å¹¶å‘é…ç½®
  concurrent_symbols: true
  zmq_lock_enabled: true
  concurrent_request_delay_ms: 100

# å¸‚åœºæ•°æ®é…ç½® (Market Data)
market_data:
  # æ—¶é—´æ¡†æ¶
  timeframes:
    - "1H"
    - "4H"
    - "1D"

  # æ•°æ®æº
  data_sources:
    - type: "mt5_realtime"
      enabled: true
      description: "MT5 å®æ—¶è¡Œæƒ… (24/7)"

  # æ•°æ®ç¼“å†² (ç§’)
  buffer_interval: 60

# äº¤æ˜“æ—¶é—´ (Trading Hours)
trading_hours:
  # æ¨¡å¼: 24/7 (BTC/USD å…¨å¤©å¯äº¤æ˜“)
  mode: "24/7"

  # æ—¶åŒº
  timezone: "UTC"

  # å‘¨æœ«äº¤æ˜“
  weekend_trading:
    enabled: true
    saturday: true
    sunday: true

# æ¨¡å‹é…ç½® (ML Model)
model:
  # æ¨¡å‹è·¯å¾„
  path: "models/xgboost_baseline.json"

  # ä¿¡å·é˜ˆå€¼
  signal_threshold: 0.55

  # æœ€ä½ç½®ä¿¡åº¦
  min_confidence: 0.60

# æ—¥å¿—é…ç½® (Logging)
logging:
  level: "INFO"
  log_file: "logs/trading_live.log"
  rotation: "daily"
  retention_days: 30

# ç›‘æ§é…ç½® (Monitoring)
monitoring:
  # ç›‘æ§é—´éš” (ç§’)
  interval: 60

  # å…³é”®æŒ‡æ ‡
  metrics:
    - "p99_latency"
    - "order_execution_rate"
    - "balance_change"
    - "drawdown_percent"

# å…ƒæ•°æ® (Metadata)
metadata:
  version: "2.0.0"
  created_date: "2026-01-18"
  task_id: "TASK#121-123"
  description: "é…ç½®ä¸­å¿ƒç»Ÿä¸€ç®¡ç†æ‰€æœ‰äº¤æ˜“å‚æ•° + å¤šå“ç§å¹¶å‘æ”¯æŒ (Task #123)"
  last_updated: "2026-01-18"
  symbols_count: 3
  concurrent_trading_enabled: true
  symbol_list: ["BTCUSD.s", "ETHUSD.s", "XAUUSD.s"]
