# MT5 Trading System - Docker Environment Variables
# Task #022.01: Full-Stack Docker Deployment
#
# Copy this file to .env and update with your actual values:
#   cp .env.example .env
#   # Edit .env with your settings
#   docker compose -f docker-compose.prod.yml up -d

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL username
DB_USER=mt5_user

# PostgreSQL password (CHANGE THIS IN PRODUCTION!)
DB_PASSWORD=changeme

# PostgreSQL database name
DB_NAME=mt5

# Database connection string
# postgresql://user:password@host:port/database
DATABASE_URL=postgresql://mt5_user:changeme@db:5432/mt5

# ============================================================================
# Redis Configuration
# ============================================================================

# Redis connection URL
REDIS_URL=redis://redis:6379

# Redis password (if authentication enabled)
# REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# ============================================================================
# API Configuration
# ============================================================================

# Feature API host and port
FEATURE_API_HOST=0.0.0.0
FEATURE_API_PORT=8000

# Feature API base URL (for internal communication)
FEATURE_API_URL=http://feature_api:8000

# API log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# Strategy Runner Configuration
# ============================================================================

# Path to strategies configuration file
CONFIG_PATH=/app/config/strategies.yaml

# ZMQ Market Data Configuration
ZMQ_MARKET_HOST=0.0.0.0
ZMQ_MARKET_PORT=5556

# ZMQ Execution Gateway Configuration
ZMQ_EXEC_HOST=0.0.0.0
ZMQ_EXEC_PORT=5555

# Strategy runner log level
STRATEGY_LOG_LEVEL=INFO

# ============================================================================
# Monitoring & Observability
# ============================================================================

# Prometheus configuration
PROMETHEUS_PORT=9091
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_EVALUATION_INTERVAL=15s

# Grafana configuration
GRAFANA_PASSWORD=admin

# Admin user for Grafana
GRAFANA_ADMIN_USER=admin

# ============================================================================
# Python Configuration
# ============================================================================

# Prevent Python from writing .pyc files
PYTHONDONTWRITEBYTECODE=1

# Force Python to flush stdout and stderr
PYTHONUNBUFFERED=1

# ============================================================================
# Production Overrides
# ============================================================================
# Uncomment and configure these for production deployments

# Use secure passwords in production
# DB_PASSWORD=your-very-secure-password
# GRAFANA_PASSWORD=your-secure-grafana-password
# REDIS_PASSWORD=your-redis-password

# Enable higher log levels for debugging
# LOG_LEVEL=DEBUG
# STRATEGY_LOG_LEVEL=DEBUG

# Configure production API settings
# FEATURE_API_URL=https://api.trading.example.com
# FEATURE_API_PORT=443

# ============================================================================
# Notes
# ============================================================================
#
# 1. Never commit .env file to version control (it's in .gitignore)
# 2. Always use strong passwords in production environments
# 3. Use Docker secrets for sensitive data in production
# 4. Rotate passwords regularly and after any security incident
# 5. Consider using environment variable files per deployment:
#    - .env.dev for development
#    - .env.staging for staging
#    - .env.prod for production (not in repo!)
#
